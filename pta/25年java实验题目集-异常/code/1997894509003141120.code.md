```None
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        int[] arr = new int[n];
        for (int i = 0; i < n; i++) {
            arr[i] = sc.nextInt();
        }
        int m = sc.nextInt();
        int begin;
        int end;
        for (int i = 0; i < m; i++) {
            begin = sc.nextInt();
            end = sc.nextInt();
            try {
                int max = ArrayUtil.findMax(arr, begin, end);
                System.out.println(max);
            } catch (IllegalArgumentException e) {
                System.out.println(e);
            }
        }
        sc.close();
    }
}

class ArrayUtil {
    public static int findMax(int[] arr, int begin, int end) throws IllegalArgumentException {
        if (begin < 0) {
            throw new IllegalArgumentException("begin:" + begin + " < 0");
        }
        if (end > arr.length) {
            throw new IllegalArgumentException("end:" + end + " > arr.length");
        }
        if (begin >= end) {
            throw new IllegalArgumentException("begin:" + begin + " >= end:" + end);
        }
        int max = arr[begin];
        for (int i = begin + 1; i < end; i++) {
            if (arr[i] > max) {
                max = arr[i];
            }
        }
        return max;
    }
}
```
